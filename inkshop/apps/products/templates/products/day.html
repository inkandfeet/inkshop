{% extends "products/base.html" %}{% load static %}{% load json_filter %}{% load compile_static %}
{% block today_nav_class %}class="active"{% endblock %}
{% block script %}{{block.super}}
  <script>
      window.inkshop = window.inkshop || {};
      inkshop.urls = inkshop.urls || {}
      inkshop.constants = inkshop.constants || {}
      inkshop.data = inkshop.data || {}

      inkshop.constants.consumerguid = "{{consumer_str}}{% now "U" %}";
      inkshop.urls.daySocket = "{{ data_store_url }}";
      inkshop.urls.checkLogin = "{% url "products:check_login" %}";
      
      {% if day.data %}
        inkshop.data.day = {{  day.data | safe }}
      {% else %}
        now = new Date();
        inkshop.data.day = {
          consumerguid: inkshop.constants.consumerguid,
          message: 'Hello Vue!',
            spoons: null,
            find_myself: null,
            like_to: null,
            socketIsConnected: true,
            today_tasks: [],
            next_task: "",
            notes_and_ideas: "",
            habits: {{habits|json}},
            goals: {{goals|json}},
            first_name: "{{me.first_name}}",
            startedToday: false,
            startedReview: false,
            startedLifePlanReview: false,
            finishedReview: false,
            moreHoursMakingShown: false,
            one_thing_today: "",
            one_thing_tasks: [],
            oneThingDone: false,
            oneThingCompleted: false,
            next_one_thing_task: "",
            phase_override: null,
            finishedDailyReview: false,
            now: now,
            today_formatted: moment(now).format("dddd, MMMM Do"),
        }
      {% endif %}

      inkshop.sockets.initializeDaySocket();
  </script>
  <script src="{% static "products/js/vueCourseDay.js" %}"></script>

{% endblock %}
{% block css %}{{block.super}}
<link rel="stylesheet" type="text/css" href="{% static "products/css/base.less"|compile %}" >
{% endblock %}


{% block content %}
  <div class="today " id="inkshopApp">
    {% verbatim %}

    <div class="wrapper" v-if="socketIsConnected">
      <div class="row top_nav">
        <div class="col s6 ">
          <div class="date">{{ today_formatted }}</div>
        </div>
        <div class="col s2 center" @click="phase_override='plan'" v-bind:class="{'active': (phase == 'plan'), 'override': phase_override=='plan'}"><i class="material-icons">explore</i>
          <div class="nav_label">Plan</div>
        </div>
        <div class="col s2 center" @click="phase_override='do'" v-bind:class="{'active': (phase == 'do'), 'override': phase_override=='do'}"><i class="material-icons" >check_box</i>
          <div class="nav_label">Do</div>
        </div>
        <div class="col s2 center" @click="phase_override='review'" v-bind:class="{'active': (phase == 'review'), 'override': phase_override=='review'}"><i class="material-icons" >map</i>
          <div class="nav_label">Review</div>
        </div>

      </div>
      <div class="row flow-text" v-if="(phase == 'plan' && ! phase_override) || phase_override == 'plan'">
        <div class="col m10 s12 offset-m1">
          <div class="row">
            <div class="col s12">
              <div class="inspiration center">Hey {{first_name}}.  Welcome to the day. :)</div>
              
            </div>
          </div>
          <div class="row" >
            <div class="col s12">
              <div class="editable_field_area">
                <span class="prompt">Today, I find myself </span> 
                <editable :content="find_myself" :field_name="'find_myself'" @update="updateDataStore" ></editable>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col s2 spoons_rating">
              <i class="fa fa-spoon" aria-hidden="true"></i>
              {{ spoons }}
            </div>
            <div class="col s10">
              <p class="range-field">
                <input type="range" id="spoons" min="0" max="100" :value="spoons" field_name='spoons' v-on:change="updateDataStore" />
              </p>
            </div>
          </div>
          <div class="row" v-if="find_myself && spoons">
            <div class="col s12">
              <div class="editable_field_area">
                <span class="prompt">If I could have one thing done by the end of today, or make significant progress on something, it would be  </span> 
                <editable :content="one_thing_today" :field_name="'one_thing_today'" @update="updateDataStore" ></editable>
              </div>
            </div>
          </div>
          <div class="row" v-if="find_myself && spoons">
            <div class="col s12" v-if="one_thing_today != ''">
              <div class="editable_field_area">
                <span class="prompt">To do that, I can: </span>
                <ul class="task_list" id="today_task_list" v-sortable="{ onUpdate: onSortUpdate }">
                  <li v-for="task in one_thing_tasks" >
                    <div class="row task" @click="toggleTaskComplete(task)" v-bind:class="{'complete': task.complete === true}">
                      <div class="col s8 offset-s1 title">{{ task.title }}</div>
                      <div class="col s3" ><div v-if="!task.complete" @click="removeOneThingTask(task)" class="remove_x">x</div></div>
                    </div>
                  </li>
                </ul>
                <div class="row">
                  <div class="col s1 offset-s1">
                    <!-- <i class="material-icons">add_circle_outline</i> -->
                    <span v-if="one_thing_tasks.length > 0">and </span>
                  </div>
                  <div class="col s9">
                    <input v-on:keyup.enter="handleOneThingTaskEnter" v-model="next_one_thing_task" />
                  </div>
                </div>
              </div>
              <button @click="addOtherTasks" class="waves-effect btn-flat cyan lighten-5 toggleable_button" v-if="!oneThingDone">Great. Show me my challenges and checkins for the day.</button>
              <button @click="addOtherTasks" class="waves-effect btn-flat cyan lighten-5 toggleable_button" v-if="!oneThingDone">Skip the other tasks.  I want to focus on this right now.</button>
            </div>
          </div>
          <div class="row" v-if="find_myself && spoons && oneThingDone">
            <div class="col s12" v-bind:class="{'m8': (startedToday || today_tasks.length > 2), 'm12': (!startedToday && today_tasks.length <= 2) }">
              <div class="editable_field_area">
                <span class="prompt">Today, it'd also be cool if I could: </span>
                <ul class="browser_default task_list" id="today_task_list" v-sortable="{ onUpdate: onSortUpdate }">
                  <li v-for="task in today_tasks" >
                    <div class="row task" @click="toggleTaskComplete(task)" v-bind:class="{'complete': task.complete === true}">
                      <div class="col s9 title">{{ task.title }}</div>
                      <div class="col s3"><div @click="removeTask(task)" class="remove_x">x</div></div>
                    </div>
                  </li>
                </ul>
                <div class="row">
                  <div class="col s1 offset-s1">
                    <!-- <i class="material-icons">add_circle_outline</i> -->
                    <span v-if="today_tasks.length > 0">and </span>
                  </div>
                  <div class="col s9">
                    <input v-on:keyup.enter="handleTaskEnter" v-model="next_task" />
                  </div>
                </div>
              </div>
              <button @click="startToday" class="waves-effect btn-flat cyan lighten-5 toggleable_button"  v-if="!startedToday">Start the Day</button>
            </div>
            <div class="col m4 s12" v-if="today_tasks.length > 2">
              <h4>2020 Goals</h4>
              <div v-for="g in goals" class="row">
                <div class="col s12">
                  {{ g.title }}<br>
                  {{ g.next_focus }}
                  [ ] This is done.  (celebrate! Then set next focus (at evening review?).)
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" v-if="(phase == 'do' && ! phase_override) || phase_override == 'do'">
        <div class="col s12" @click="oneThingCompleted = !oneThingCompleted">
          <h4>One Big Thing</h4>
          <i class="material-icons" v-if="oneThingCompleted">check_box</i>
          <i class="material-icons" v-if="!oneThingCompleted">check_box_outline_blank</i>
          Today, I want to {{one_thing_today}}.
        </div>
        <div class="col s12">
          <ul class="task_list" id="today_task_list" v-sortable="{ onUpdate: onSortUpdate }">
            <li v-for="task in one_thing_tasks" >
              <div class="row task" @click="toggleTaskComplete(task)" v-bind:class="{'complete': task.complete === true}">
                <div class="col s1 checks">
                  <i class="material-icons" v-if="task.complete">check_box</i>
                  <i class="material-icons" v-if="!task.complete">check_box_outline_blank</i>
                </div>
                <div class="col s8 title">{{ task.title }}</div>
                <div class="col s3"><div v-if="!task.complete" @click="removeTask(task)" class="remove_x">x</div></div>
              </div>
            </li>
          </ul>
        </div>
        <div class="col m6 s12" >
          <div class="editable_field_area">
            <h4>Today, it would also be cool if I: </h4>
            <ul class="task_list" id="today_task_list" v-sortable="{ onUpdate: onSortUpdate }">
              <li v-for="task in today_tasks" >
                <div class="row task" v-if="!task.complete" @click="toggleTaskComplete(task)" v-bind:class="{'complete': task.complete === true}">
                  <div class="col s1 checks">
                    <i class="material-icons" v-if="task.complete">check_box</i>
                    <i class="material-icons" v-if="!task.complete">check_box_outline_blank</i>
                  </div>
                  <div class="col s8 title">{{ task.title }}</div>
                  <div class="col s3"><div v-if="!task.complete" @click="removeTask(task)" class="remove_x">x</div></div>
                </div>
              </li>
            </ul>
            <input v-on:keyup.enter="handleTaskEnter" v-model="next_task" />
          </div>
        </div>

        <div class="col m3 s12">
          <h4>Daily Habits</h4>
          <div v-for="habit in habits" class="row task_list task" @click="toggleTaskComplete(habit)">
            <div class="col s1 checks">
              <i class="material-icons" v-if="habit.complete">check_circle</i>
              <i class="material-icons pending" v-if="!habit.complete">check_circle_outline</i>
            </div>
            <div class="col s11">{{ habit.title }}</div>
          </div>
        </div>
        <div class="col m3  s12">
          <h4>Notes & Ideas</h4>
          <editable :content="notes_and_ideas" :field_name="'notes_and_ideas'" @update="updateDataStore" ></editable>

          <h4>Done</h4>
          <span v-for="task in completed_tasks"  class="hide-on-med-and-down task" @click="toggleTaskComplete(task)" v-bind:title="task.title" ><i class="material-icons" >check_box</i></span>
          <div v-for="task in completed_tasks"  class="row task" @click="toggleTaskComplete(task)" >
            <div class="col s1 checks">
              <i class="material-icons" >check_box</i>
            </div>
            <div class="col s11 title">{{ task.title }}</div>
          </div>
        </div>
      </div>
      <div class="row flow-text" v-if="(phase == 'review' && ! phase_override) || (phase_override == 'review' && (finishedDailyReview || !readyToStartSettingItDown) )">
        <div class="row" v-if="!readyToStartSettingItDown">
          <div class="col s12">
            <div class="inspiration center">You're done for the day. Great work.</div>
          </div>
        </div>
        <div class="col s10 offset-s1" v-if="!readyToStartSettingItDown || (phase_override == 'review' && (finishedDailyReview || !readyToStartSettingItDown) )">
          <div class="editable_field_area">
            <span class="prompt">What's the biggest/best thing you accomplished today?</span> 
            <editable :content="biggest_accomplishment" :field_name="'biggest_accomplishment'" @update="updateDataStore" ></editable>
          </div>

          <p class="prompt">Here's all the things you got done today.  :)<br/>Smile the ones that make you the happiest and most proud!</p>
          <div class="row">
            <div v-for="task in completed_tasks"  class="col s12 m6 task happyTask" @click="markTaskHappy(task)" >
              <div class="row">
                <div class="col s1 checks">
                  <i class="material-icons" v-if="task.makesMeHappy">sentiment_very_satisfied</i>
                </div>
                <div class="col s11 title">{{ task.title }}</div>
              </div>
            </div>
          </div>
          <p v-if="!startedLifePlanReview">Awesome.  Ready to record your progress toward your 2020 goals?</p>
          <a class="waves-effect waves-light btn" @click="startLifePlanReview" v-if="!startedLifePlanReview">Let's do it.</a>
        </div>
        <div class="col s10 offset-s1" v-if="(startedLifePlanReview && !readyToStartSettingItDown) || (phase_override == 'review' && (finishedDailyReview) )">
          <div class="row">
            <div class="col s12">
              <h4>Write/Make/Make Art. Full-time.</h4>
            </div>
            <div class="col s12">
              How many hours did you spend today writing, making, or making art?  (Add buffer hours)
            </div>
            <div class="col s12">
              <div class="hour_block" v-for="n in 6" v-bind:class="{'filled': (hoursMaking>=n)}" @click="setHoursMaking(n)"> </div>
              <div class="hour_block more" v-if="!moreHoursMakingShown" @click="showMoreHoursMaking">+</div>
              <div class="hour_block" v-if="moreHoursMakingShown" v-for="n in 12" @click="setHoursMaking(n+6)" v-bind:class="{'filled': (hoursMaking>=n+6)}"> </div>
            </div>
          </div>




          <div class="row adventure_checkin">
            <div class="col s12">
              <h4>Adventure</h4>
            </div>
            <div class="col s12">
              Are you living in any of these places?
              <div class="row adventure">
                <div class="col s3 adventure_flag" v-bind:class="{'active': adventured_in_c1}" @click="toggleCountry('c1')">
                  <img src="{% endverbatim %}{% static "common/flags/blank.gif" %}{% verbatim %}" class="flag flag-eu" alt="Unknown" /> <label>?</label>
                </div>
                <div class="col s3 adventure_flag" v-bind:class="{'active': adventured_in_c2}" @click="toggleCountry('c2')">
                  <img src="{% endverbatim %}{% static "common/flags/blank.gif" %}{% verbatim %}" class="flag flag-eu" alt="Unknown" /> <label>?</label>
                </div>
                <div class="col s3 adventure_flag" v-bind:class="{'active': adventured_in_c3}" @click="toggleCountry('c3')">
                  <img src="{% endverbatim %}{% static "common/flags/blank.gif" %}{% verbatim %}" class="flag flag-eu" alt="Unknown" /> <label>?</label>
                </div>
                <div class="col s3 adventure_flag" v-bind:class="{'active': adventured_in_fr}" @click="toggleCountry('fr')">
                  <img src="{% endverbatim %}{% static "common/flags/blank.gif" %}{% verbatim %}" class="flag flag-fr" alt="France" /> <label>France</label>
                </div>
              </div>
            </div>
          </div>



          <div class="row">
            <div class="col s12">
              <h4>Level Up</h4>
            </div>
            <div class="col s12">
              <p>This month, you're leveling up Video Production.</p>
              <p>Did you put any time toward leveling up your video production skills today?</p>
              <yesnopair v-bind:field='did_level_up_time' field_name='did_level_up_time' @update="updateAndSave"></yesnopair>
            </div>
            <div class="col s12" v-if="did_level_up_time">
              <p>How many minutes of deliberate practice did you do? <input type="number" :value="minutes_of_deliberate_practice" field_name='minutes_of_deliberate_practice' v-on:change="updateDataStore"/></p>
              <span class="prompt">What did you learn? </span> 
              <editable :content="deliberate_learning" :field_name="'deliberate_learning'" @update="updateDataStore" ></editable>
            </div>
          </div>



          <div class="row">
            <div class="col s12">
              <h4>Look Great. Feel Great.</h4>
            </div>
            <div class="col s12">
              <p>Which of these did you do today?</p>
              <toggle-chip icon="accessibility" field_name="lgfg_did_walk" v-bind:field="lgfg_did_walk" title="Walked" @update="updateAndSave"></toggle-chip>
              <toggle-chip icon="directions_run" field_name="lgfg_did_trained" v-bind:field="lgfg_did_trained" title="Trained" @update="updateAndSave"></toggle-chip>
              <toggle-chip icon="local_pharmacy" field_name="lgfg_did_grooming" v-bind:field="lgfg_did_grooming" title="Grooming" @update="updateAndSave"></toggle-chip>
              <toggle-chip icon="local_drink" field_name="lgfg_did_skincare" v-bind:field="lgfg_did_skincare" title="Skin Care" @update="updateAndSave"></toggle-chip>
            
            </div>
          </div>



          <div class="row">
            <div class="col s12">
              <h4>Sparkle</h4>
            </div>
            <div class="col s12">
              <p>Did you have a new experience that enriched or brought <i>joie de vivre</i> to you?</p>
              <yesnopair v-bind:field='did_sparkle' field_name='did_sparkle' @update="updateAndSave"></yesnopair>
            </div>
          </div>
          <div class="row">
            <div class="col s12" v-if="did_sparkle">
              <span class="prompt">What was it? Tell all! :D </span> 
              <editable :content="sparkle_experience" :field_name="'sparkle_experience'" @update="updateDataStore" ></editable>
            </div>
          </div>



          <div class="row">
            <div class="col s12">
              <h4>Strong, Real Relationships.</h4>
            </div>
            <div class="col s12">
              <p>Who did you interact with today?</p>
              <div class="row">
                <div class="col s12 close_people">
                  <h5>Close People</h5>
                  <toggle-chip image="{% endverbatim %}{% static "dashboard/img/people/edna.jpg" %}{% verbatim %}" field_name="people_edna" v-bind:field="people_edna" title="Edna" @update="updateAndSave"></toggle-chip>

                  <toggle-chip image="{% endverbatim %}{% static "dashboard/img/people/mary.jpg" %}{% verbatim %}" field_name="people_mary" v-bind:field="people_mary" title="Mary" @update="updateAndSave"></toggle-chip>

                  <toggle-chip image="{% endverbatim %}{% static "dashboard/img/people/jeff.jpg" %}{% verbatim %}" field_name="people_jeff" v-bind:field="people_jeff" title="Jeff" @update="updateAndSave"></toggle-chip>

                  <toggle-chip image="{% endverbatim %}{% static "dashboard/img/people/katie.jpg" %}{% verbatim %}" field_name="people_katie" v-bind:field="people_katie" title="Katie" @update="updateAndSave"></toggle-chip>

                  <toggle-chip image="{% endverbatim %}{% static "dashboard/img/people/megan.jpg" %}{% verbatim %}" field_name="people_megan" v-bind:field="people_megan" title="Megan" @update="updateAndSave"></toggle-chip>

                  <toggle-chip image="{% endverbatim %}{% static "dashboard/img/people/charlotte.jpg" %}{% verbatim %}" field_name="people_charlotte" v-bind:field="people_charlotte" title="Charlotte" @update="updateAndSave"></toggle-chip>

                  <toggle-chip image="{% endverbatim %}{% static "dashboard/img/people/guys.jpg" %}{% verbatim %}" field_name="people_guys" v-bind:field="people_guys" title="The Guys" @update="updateAndSave"></toggle-chip>
                </div>

                <div class="col s12 close_people">
                  <h5>Other Friends</h5>
                  <toggle-chip icon="face" field_name="people_amrita" v-bind:field="people_amrita" title="Amrita" @update="updateAndSave"></toggle-chip>
                  <toggle-chip icon="face" field_name="people_mel" v-bind:field="people_mel" title="Mel" @update="updateAndSave"></toggle-chip>
                  <toggle-chip icon="face" field_name="people_tom" v-bind:field="people_tom" title="Tom" @update="updateAndSave"></toggle-chip>

                  <toggle-chip icon="face" field_name="people_robyn" v-bind:field="people_robyn" title="Robyn" @update="updateAndSave"></toggle-chip>

                  <toggle-chip icon="face" field_name="people_bonnie" v-bind:field="people_bonnie" title="Bonnie" @update="updateAndSave"></toggle-chip>


                  <toggle-chip icon="face" field_name="people_seriina" v-bind:field="people_seriina" title="Seriina" @update="updateAndSave"></toggle-chip>
                  <toggle-chip icon="face" field_name="people_belle" v-bind:field="people_belle" title="Belle" @update="updateAndSave"></toggle-chip>
                  <toggle-chip icon="face" field_name="people_xander" v-bind:field="people_xander" title="Xander" @update="updateAndSave"></toggle-chip>

                </div>

                <div class="col s12 close_people">
                  <h5>Developing / Business</h5>
                  <toggle-chip icon="person_outline" field_name="people_bill" v-bind:field="people_bill" title="Bill" @update="updateAndSave"></toggle-chip>

                  <toggle-chip icon="person_outline" field_name="people_tolly" v-bind:field="people_tolly" title="Tolly" @update="updateAndSave"></toggle-chip>

                  <toggle-chip icon="person_outline" field_name="people_haya" v-bind:field="people_haya" title="Haya" @update="updateAndSave"></toggle-chip>

                  <toggle-chip icon="person_outline" field_name="people_dani" v-bind:field="people_dani" title="Dani" @update="updateAndSave"></toggle-chip>

                  <toggle-chip icon="person_outline" field_name="people_nickynicko" v-bind:field="people_nickynicko" title="Nicky/Nicko" @update="updateAndSave"></toggle-chip>
                  <toggle-chip icon="person_outline" field_name="people_alisonrobert" v-bind:field="people_alisonrobert" title="Alison/Robert" @update="updateAndSave"></toggle-chip>

                </div>

              </div>
            </div>
          </div>



          <div class="row">
            <div class="col s12">
              <h4>Hedonism Bucket List</h4>
            </div>
            <div class="col s12">
              <p>Did you check off one of the things on your top 10 hedonism bucket list?</p>
              <yesnopair v-bind:field='did_hedonism' field_name='did_hedonism' @update="updateAndSave" yes_text='OMG Yes' no_text='Not today :)'></yesnopair>
            </div>
            <div class="col s12" v-if="did_hedonism">
              <span class="prompt">What was it? Tell all! :D </span> 
              <editable :content="hedonism_experience" :field_name="'hedonism_experience'" @update="updateDataStore" ></editable>
            </div>
          </div>



          <div class="row">
            <div class="col s12">
              <h4>The Book.</h4>
            </div>
            <div class="col s12">
              <p>Did you write on the book today?</p>
              <yesnopair v-bind:field='did_write_book' field_name='did_write_book' @update="updateAndSave" yes_text='I did!' no_text='Nope.'></yesnopair>
            </div>
            <div class="col s12" v-if="did_write_book === true">
              <p>Nice work!</p>
            </div>
            <div class="col s12" v-if="did_write_book === false">
              <p>Did you make progress on the book in other ways today?</p>
              <yesnopair v-bind:field='did_other_book' field_name='did_other_book' @update="updateAndSave" yes_text='Yep!' no_text='Nope.'></yesnopair>
            </div>
            <div class="col s12" v-if="did_write_book === false && did_other_book">
              <span class="prompt">Sweet! What was it?</span> 
              <editable :content="book_progress" :field_name="'book_progress'" @update="updateDataStore" ></editable>
            </div>
            <div class="col s12" v-if="did_write_book === false && did_other_book === false">
              <span class="prompt">Got it.  So, this is your life's work - and you and I know it.  What's getting in the way?</span> 
              <editable :content="book_impediment" :field_name="'book_impediment'" @update="updateDataStore" ></editable>
            </div>
            <div class="col s12" v-if="did_write_book === false && did_other_book === false && book_impediment">
              <span class="prompt">How do I solve that problem?</span> 
              <editable :content="book_solution" :field_name="'book_solution'" @update="updateDataStore" ></editable>
            </div>
          </div>



          <div class="row">
            <div class="col s12">
              <h4>Fluent in French</h4>
            </div>
            <div class="col s12">
              <p>Which if these did you today?</p>
              <toggle-chip field_name="french_frantastique" v-bind:field="french_frantastique" title="Frantastique" @update="updateAndSave"></toggle-chip>
              <toggle-chip field_name="french_memrise" v-bind:field="french_memrise" title="Memrise" @update="updateAndSave"></toggle-chip>
              <toggle-chip field_name="french_conversation" v-bind:field="french_conversation" title="ParlÃ© avec un francophile" @update="updateAndSave"></toggle-chip>
            </div>
          </div>



          <div class="row">
            <div class="col s12">
              <h4>Cultivate Clarity</h4>
            </div>
            <div class="col s12">
              <toggle-chip icon="accessibility" field_name="did_meditation" v-bind:field="did_meditation" title="Meditated" @update="updateAndSave"></toggle-chip>
            </div>
            <div class="col s12">
              <p>How many hours doing review or strategic thinking?</p>
              <div class="hour_block" v-for="n in 6" v-bind:class="{'filled': (hoursClarity>=n)}" @click="setHoursClarity(n)"> </div>
              <div class="hour_block more" v-if="!moreHoursClarityShown" @click="updateAndSave('moreHoursClarityShown', true)">+</div>
              <div class="hour_block" v-if="moreHoursClarityShown" v-for="n in 12" @click="setHoursClarity(n+6)" v-bind:class="{'filled': (hoursClarity>=n+6)}"> </div>
            </div>
          </div>
          
          <div class="col s12">
            <h4>Better and Better</h4>
            <p>In terms of this process, and how you're moving toward your goals, any reflections or insights?</p>
            <yesnopair v-bind:field='have_process_reflections' field_name='have_process_reflections' @update="updateAndSave" yes_text='Yeah, actually.' no_text='Nah.'></yesnopair>
          </div>
          <div class="col s12" v-if="have_process_reflections">
            <span class="prompt">Cool.  What's on your mind?</span> 
            <editable :content="process_reflection" :field_name="'process_reflection'" @update="updateDataStore" ></editable>
          </div>

          <div class="col s12" v-if="finishedLifePlanReview">
            <h4>Whew!</h4>
            <p>Nice work. You're all set.  Ready to finish up this review, and unwind?</p>
            <yesnopair v-bind:field='readyToStartSettingItDown' field_name='readyToStartSettingItDown' @update="updateAndSave" yes_text='Yeah, I am.' no_text='Not quite yet.'></yesnopair>
          </div>
        </div>


        <div class="row" v-if="readyToStartSettingItDown">
          <div class="col s10 offset-s1">
            <h4>Set it all down.</h4>
              <p>Whew.  You're all finished for the day, and you can set everything that's on your mind down, and relax.</p>
              <span class="prompt">Looking around your mind and self, is there anything you need to set down here, so you don't have to carry it?</span> 
              <yesnopair v-bind:field='have_things_to_set_down' field_name='have_things_to_set_down' @update="updateAndSave" yes_text='Yeah, actually.' no_text="Y'know, I think I'm good."></yesnopair>
              
              <div v-if="have_things_to_set_down">
                <br>
                <span class="prompt">Here's what's on my mind:</span> 
                <editable :content="remind_me" :field_name="'remind_me'" @update="updateDataStore" ></editable>
              </div>
          </div>
          <div class="col s10 offset-s1" v-if="(have_things_to_set_down === true && remind_me) || have_things_to_set_down === false">
            <p>Great. When you're ready, finish the day.</p>
            <a class="waves-effect btn-flat cyan lighten-5 toggleable_button" @click="updateAndSave('finishedDailyReview', true);phase_override=null;">Finish Today.</a>
          </div>
        </div>

      </div>
      <div class="row finished_day" v-if="finishedDailyReview && !phase_override">
        <div class="col s12">
          <div class="inspiration center">
            <img src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQyMi4wODggNDIyLjA4OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDIyLjA4OCA0MjIuMDg4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij4KPGc+Cgk8cGF0aCBzdHlsZT0iZmlsbDojRUEzNDU3OyIgZD0iTTM3NS40NjcsMjQxLjc2NGMwLTkwLjQ4Ny03MS44MjctMTYzLjg0LTE2MC40MjctMTYzLjg0UzU0LjYxMywxNTEuMjc3LDU0LjYxMywyNDEuNzY0SDM3NS40Njd6Ii8+Cgk8cGF0aCBzdHlsZT0iZmlsbDojRkZFNjAwOyIgZD0iTTMyMC44NTMsMjQxLjc2NGMwLTYwLjMyNC00Ny4zNzQtMTA5LjIyNy0xMDUuODEzLTEwOS4yMjdTMTA5LjIyNywxODEuNDQsMTA5LjIyNywyNDEuNzY0SDMyMC44NTN6ICAgIi8+CjwvZz4KPHBhdGggc3R5bGU9ImZpbGw6IzYwMkY3NTsiIGQ9Ik0zMjAuODUzLDI0OC41OTFIMTA5LjIyN2MtMy43NzIsMC02LjgyNy0zLjA1OC02LjgyNy02LjgyN2MwLTYzLjk5Myw1MC41MzQtMTE2LjA1MywxMTIuNjQtMTE2LjA1MyAgczExMi42NCw1Mi4wNiwxMTIuNjQsMTE2LjA1M0MzMjcuNjgsMjQ1LjUzMiwzMjQuNjI4LDI0OC41OTEsMzIwLjg1MywyNDguNTkxeiBNMTE2LjI3NSwyMzQuOTM3aDE5Ny41MzMgIGMtMy40MDctNTMuMjg5LTQ2LjQwOC05NS41NzMtOTguNzY4LTk1LjU3M1MxMTkuNjgyLDE4MS42NDgsMTE2LjI3NSwyMzQuOTM3eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojRUEzNDU3OyIgZD0iTTUxLjY3NCwxNzguNjIxYy0wLjcsMC0xLjQwNi0wLjEwOS0yLjEwNi0wLjMzOGwtMzguOTYtMTIuNjU3Yy0zLjU4Ny0xLjE2Ny01LjU1My01LjAxOC00LjM4Ni04LjYwNSAgYzEuMTY3LTMuNTg0LDUuMDIxLTUuNTQzLDguNjAyLTQuMzgzbDM4Ljk2LDEyLjY1N2MzLjU4NywxLjE2Nyw1LjU1Myw1LjAxOCw0LjM4Niw4LjYwNSAgQzU3LjIyOCwxNzYuNzg0LDU0LjU1NSwxNzguNjIxLDUxLjY3NCwxNzguNjIxeiBNMzc2LjMwMywxNzIuMTI5Yy0yLjg4MSwwLTUuNTUzLTEuODM2LTYuNDkyLTQuNzIxICBjLTEuMTY3LTMuNTg3LDAuNzk5LTcuNDM4LDQuMzg2LTguNjA1bDM4Ljk1My0xMi42NTdjMy41ODEtMS4xNjQsNy40MzQsMC43OTksOC42MDIsNC4zODNjMS4xNjcsMy41ODctMC43OTksNy40MzgtNC4zODYsOC42MDUgIGwtMzguOTU2LDEyLjY1N0MzNzcuNzA5LDE3Mi4wMTYsMzc3LjAwMywxNzIuMTI5LDM3Ni4zMDMsMTcyLjEyOXogTTExMS45NjgsOTIuMDQ1Yy0yLjExMywwLTQuMTk1LTAuOTc2LTUuNTI2LTIuODEzTDgyLjM2Nyw1Ni4wOTYgIGMtMi4yMTktMy4wNTItMS41MzktNy4zMjIsMS41MDUtOS41MzdjMy4wNTUtMi4yMTIsNy4zMjItMS41MzksOS41MzMsMS41MDlsMjQuMDc0LDMzLjEzN2MyLjIxOSwzLjA1MiwxLjUzOSw3LjMyMi0xLjUwNSw5LjUzNyAgQzExNC43NjMsOTEuNjIyLDExMy4zNTMsOTIuMDQ1LDExMS45NjgsOTIuMDQ1eiBNMzEyLjU5LDg4LjAzMWMtMS4zOTMsMC0yLjc5Mi0wLjQyMy00LjAwNy0xLjMwNCAgYy0zLjA0OC0yLjIxNS0zLjcyNy02LjQ4NS0xLjUwNS05LjUzN2wyNC4wNzQtMzMuMTM3YzIuMjEyLTMuMDUyLDYuNDcyLTMuNzI3LDkuNTMzLTEuNTA5YzMuMDQ4LDIuMjE1LDMuNzI3LDYuNDg1LDEuNTA1LDkuNTM3ICBsLTI0LjA3NCwzMy4xMzdDMzE2Ljc4MSw4Ny4wNTUsMzE0LjcwMyw4OC4wMzEsMzEyLjU5LDg4LjAzMXogTTIxMS42MjcsNTcuNDQ0Yy0zLjc3MiwwLTYuODI3LTMuMDU4LTYuODI3LTYuODI3VjkuNjU3ICBjMC0zLjc2OCwzLjA1NS02LjgyNyw2LjgyNy02LjgyN3M2LjgyNywzLjA1OCw2LjgyNyw2LjgyN3Y0MC45NkMyMTguNDUzLDU0LjM4NiwyMTUuNDAyLDU3LjQ0NCwyMTEuNjI3LDU3LjQ0NHoiLz4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik0yODkuMjgsMjY5LjA3MUg0Ny43ODdjLTcuNTQsMC0xMy42NTMtNi4xMTMtMTMuNjUzLTEzLjY1M3M2LjExMy0xMy42NTMsMTMuNjUzLTEzLjY1M2gzNDguMTYgIGM3LjU0LDAsMTMuNjUzLDYuMTEzLDEzLjY1MywxMy42NTNzLTYuMTEzLDEzLjY1My0xMy42NTMsMTMuNjUzaC01OC44ODMiLz4KPHBhdGggc3R5bGU9ImZpbGw6IzYwMkY3NTsiIGQ9Ik0zOTUuOTQ3LDI3NS44OTdoLTU4Ljg4Yy0zLjc3MiwwLTYuODI3LTMuMDU4LTYuODI3LTYuODI3czMuMDU1LTYuODI3LDYuODI3LTYuODI3aDU4Ljg4ICBjMy43NjgsMCw2LjgyNy0zLjA2Miw2LjgyNy02LjgyN2MwLTMuNzY1LTMuMDU4LTYuODI3LTYuODI3LTYuODI3SDQ3Ljc4N2MtMy43NjgsMC02LjgyNywzLjA2Mi02LjgyNyw2LjgyNyAgYzAsMy43NjUsMy4wNTgsNi44MjcsNi44MjcsNi44MjdIMjg5LjI4YzMuNzcyLDAsNi44MjcsMy4wNTgsNi44MjcsNi44MjdzLTMuMDU1LDYuODI3LTYuODI3LDYuODI3SDQ3Ljc4NyAgYy0xMS4yOTUsMC0yMC40OC05LjE4NS0yMC40OC0yMC40OGMwLTExLjI5NSw5LjE4NS0yMC40OCwyMC40OC0yMC40OGgzNDguMTZjMTEuMjk1LDAsMjAuNDgsOS4xODUsMjAuNDgsMjAuNDggIEM0MTYuNDI3LDI2Ni43MTIsNDA3LjI0MSwyNzUuODk3LDM5NS45NDcsMjc1Ljg5N3oiLz4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik0xNTAuMTg3LDMxNi44NTdIMjAuNDhjLTcuNTQsMC0xMy42NTMtNi4xMTMtMTMuNjUzLTEzLjY1M2MwLTcuNTQsNi4xMTMtMTMuNjUzLDEzLjY1My0xMy42NTMgIGgxMjkuNzA3YzcuNTQsMCwxMy42NTMsNi4xMTMsMTMuNjUzLDEzLjY1M0MxNjMuODQsMzEwLjc0NCwxNTcuNzI3LDMxNi44NTcsMTUwLjE4NywzMTYuODU3eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojNjAyRjc1OyIgZD0iTTE1MC4xODcsMzIzLjY4NEgyMC40OGMtMTEuMjk1LDAtMjAuNDgtOS4xODUtMjAuNDgtMjAuNDhzOS4xODUtMjAuNDgsMjAuNDgtMjAuNDhoMTI5LjcwNyAgYzExLjI5NSwwLDIwLjQ4LDkuMTg1LDIwLjQ4LDIwLjQ4UzE2MS40ODEsMzIzLjY4NCwxNTAuMTg3LDMyMy42ODR6IE0yMC40OCwyOTYuMzc3Yy0zLjc2OCwwLTYuODI3LDMuMDYyLTYuODI3LDYuODI3ICBzMy4wNTgsNi44MjcsNi44MjcsNi44MjdoMTI5LjcwN2MzLjc2OCwwLDYuODI3LTMuMDYyLDYuODI3LTYuODI3cy0zLjA1OC02LjgyNy02LjgyNy02LjgyN0gyMC40OHoiLz4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik0yNTIuNTg3LDQxMi40MzFIMTIyLjg4Yy03LjU0LDAtMTMuNjUzLTYuMTEzLTEzLjY1My0xMy42NTNjMC03LjU0LDYuMTEzLTEzLjY1MywxMy42NTMtMTMuNjUzICBoMTI5LjcwN2M3LjU0LDAsMTMuNjUzLDYuMTEzLDEzLjY1MywxMy42NTNDMjY2LjI0LDQwNi4zMTcsMjYwLjEyNyw0MTIuNDMxLDI1Mi41ODcsNDEyLjQzMXoiLz4KPHBhdGggc3R5bGU9ImZpbGw6IzYwMkY3NTsiIGQ9Ik0yNTIuNTg3LDQxOS4yNTdIMTIyLjg4Yy0xMS4yOTUsMC0yMC40OC05LjE4NS0yMC40OC0yMC40OHM5LjE4NS0yMC40OCwyMC40OC0yMC40OGgxMjkuNzA3ICBjMTEuMjk1LDAsMjAuNDgsOS4xODUsMjAuNDgsMjAuNDhTMjYzLjg4MSw0MTkuMjU3LDI1Mi41ODcsNDE5LjI1N3ogTTEyMi44OCwzOTEuOTUxYy0zLjc2OCwwLTYuODI3LDMuMDYyLTYuODI3LDYuODI3ICBzMy4wNTgsNi44MjcsNi44MjcsNi44MjdoMTI5LjcwN2MzLjc2OCwwLDYuODI3LTMuMDYyLDYuODI3LTYuODI3cy0zLjA1OC02LjgyNy02LjgyNy02LjgyN0gxMjIuODh6Ii8+CjxwYXRoIHN0eWxlPSJmaWxsOiMwMEU3RkY7IiBkPSJNMzQ4LjE2LDM1Ny44MTdIMjE4LjQ1M2MtNy41NCwwLTEzLjY1My02LjExMy0xMy42NTMtMTMuNjUzYzAtNy41NCw2LjExMy0xMy42NTMsMTMuNjUzLTEzLjY1MyAgSDM0OC4xNmM3LjU0LDAsMTMuNjUzLDYuMTEzLDEzLjY1MywxMy42NTNDMzYxLjgxMywzNTEuNzA0LDM1NS43LDM1Ny44MTcsMzQ4LjE2LDM1Ny44MTd6Ii8+CjxwYXRoIHN0eWxlPSJmaWxsOiM2MDJGNzU7IiBkPSJNMzQ4LjE2LDM2NC42NDRIMjE4LjQ1M2MtMTEuMjk1LDAtMjAuNDgtOS4xODUtMjAuNDgtMjAuNDhjMC0xMS4yOTUsOS4xODUtMjAuNDgsMjAuNDgtMjAuNDhIMzQ4LjE2ICBjMTEuMjk1LDAsMjAuNDgsOS4xODUsMjAuNDgsMjAuNDhDMzY4LjY0LDM1NS40NTksMzU5LjQ1NSwzNjQuNjQ0LDM0OC4xNiwzNjQuNjQ0eiBNMjE4LjQ1MywzMzcuMzM3ICBjLTMuNzY4LDAtNi44MjcsMy4wNjItNi44MjcsNi44MjdjMCwzLjc2NSwzLjA1OCw2LjgyNyw2LjgyNyw2LjgyN0gzNDguMTZjMy43NjgsMCw2LjgyNy0zLjA2Miw2LjgyNy02LjgyNyAgYzAtMy43NjUtMy4wNTgtNi44MjctNi44MjctNi44MjdIMjE4LjQ1M3oiLz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==" />
            <Br/><Br/>
            <div>Close the laptop.  Go play. :) </div>
          <!-- https://www.flaticon.com/free-icon/sunrise_962491#term=sunset&page=1&position=24 -->
        </div>
        </div>
      </div>
    </div>
    {% endverbatim %}
  </div>

{% endblock %}